Analytics.ReportWidgetSettings=Garnish.Base.extend({$container:null,$form:null,$chartTypes:null,$chartSelect:null,$selectizeSelects:null,init:function(e,t){this.$container=$("#"+e),this.$form=this.$container.closest("form"),this.$chartTypes=$(".chart-picker ul.chart-types li",this.$form),this.$chartSelect=$(".chart-select select",this.$form),this.$selectizeSelects=$(".selectize select",this.$form),this.$selectizeSelects.selectize({dropdownParent:"body"}),this.addListener(this.$chartTypes,"click",$.proxy((function(e){var t=$(e.currentTarget);this.$chartTypes.removeClass("active"),t.addClass("active");var s,i=$(".chart-settings > div:not(.hidden)",this.$form),c=$(".metric select",i);c.length>0&&(s=c[0].selectize.getValue());var l,r=$(".dimension select",i);r.length>0&&(l=r[0].selectize.getValue()),this.$chartSelect.val(t.data("chart-type")),this.$chartSelect.trigger("change");var a=$(".chart-settings > div:not(.hidden)",this.$form),h=$(".metric select",a);h.length>0&&h[0].selectize.options[s]&&h[0].selectize.setValue(s);var n=$(".dimension select",a);n.length>0&&n[0].selectize.options[l]&&n[0].selectize.setValue(l)}),this)),this.$chartTypes.filter("[data-chart-type="+this.$chartSelect.val()+"]").trigger("click"),window.dashboard.grid.refreshCols(!0)}});
